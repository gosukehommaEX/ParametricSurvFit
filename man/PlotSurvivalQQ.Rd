% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/PlotSurvivalQQ.R
\name{PlotSurvivalQQ}
\alias{PlotSurvivalQQ}
\title{Create Survival Function Q-Q Plot with log(-log(S)) transformation}
\usage{
PlotSurvivalQQ(
  dataset,
  distribution,
  time_scale = "Months",
  stratify_name = NULL,
  confidence_level = 0.95,
  point_size = 2,
  line_size = 1,
  alpha_ribbon = 0.3,
  return_plots = TRUE
)
}
\arguments{
\item{dataset}{A data frame created by DataParametricSurv() function containing
survival data with columns: SUBJID, ARM, STRATIFY, SURVTIME, CNSR, EVENT}

\item{distribution}{Character string specifying the distribution type.
Must be one of: "exp", "weibull", "lnorm", "llogis", "gompertz", "gengamma", "gamma"}

\item{time_scale}{Character string specifying the time scale for x-axis label.
Default is "Months". Common options: "Months", "Years", "Weeks", "Days"}

\item{stratify_name}{Character string specifying the original stratification
variable name for plot titles. If NULL (default), uses "STRATIFY"}

\item{confidence_level}{Numeric value for confidence level (default: 0.95)}

\item{point_size}{Numeric value for point size (default: 2)}

\item{line_size}{Numeric value for line size (default: 1)}

\item{alpha_ribbon}{Numeric value for ribbon transparency (default: 0.3)}

\item{return_plots}{Logical indicating whether to return plot objects.
If TRUE (default), returns list of ggplot objects. If FALSE, displays plots}
}
\value{
A list of ggplot2 objects containing S(t)-based Q-Q plots for each ARM*STRATIFY combination
}
\description{
This function creates Q-Q plots using S(t) directly with log(-log(S)) transformation
for parametric survival models fitted using flexsurv. It creates separate plots
for each ARM*STRATIFY combination with native flexsurv confidence intervals.
}
\examples{
\dontrun{
# Create survival dataset first
surv_data <- DataParametricSurv(
  adsl_path = "path/to/adsl.sas7bdat",
  adtte_path = "path/to/adtte.sas7bdat",
  population = "ITTFL",
  variable = "OS",
  stratify_by = "SEX"
)

# Create S(t)-based Q-Q plots with Weibull distribution
qq_plots <- PlotSurvivalQQ(
  dataset = surv_data,
  distribution = "weibull",
  time_scale = "Months"
)

# Display all plots
print(qq_plots)

# Access individual plots
treatment_male_plot <- qq_plots[["Treatment_M"]]
placebo_female_plot <- qq_plots[["Placebo_F"]]
}
}
