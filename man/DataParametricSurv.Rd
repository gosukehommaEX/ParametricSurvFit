% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/DataParametricSurv.R
\name{DataParametricSurv}
\alias{DataParametricSurv}
\title{Create Dataset for Parametric Survival Analysis}
\usage{
DataParametricSurv(
  adsl_path,
  adtte_path,
  population = "ITTFL",
  variable = "OS",
  stratify_by = "SEX"
)
}
\arguments{
\item{adsl_path}{Character string specifying the file path to the ADSL dataset}

\item{adtte_path}{Character string specifying the file path to the ADTTE dataset}

\item{population}{Character string specifying the analysis population flag.
Must be one of "SAFFL", "ITTFL", or "RANDFL". Default is "ITTFL"}

\item{variable}{Character string specifying the parameter code from PARAMCD
column in ADTTE dataset. Default is "OS" (Overall Survival)}

\item{stratify_by}{Character string specifying the column name for stratification
factor from ADSL dataset, or NULL for no stratification. Default is "SEX"}
}
\value{
A data frame containing the following columns:
  \item{SUBJID}{Subject identifier}
  \item{ARM}{Treatment arm}
  \item{STRATIFY}{Stratification factor (renamed from specified column), or "Overall" if no stratification}
  \item{SURVTIME}{Survival time}
  \item{CNSR}{Censoring indicator (1=censored, 0=event)}
  \item{EVENT}{Event indicator (1=event, 0=censored)}
}
\description{
This function reads ADaM datasets and creates a combined dataset suitable for
parametric survival analysis. It allows flexible specification of analysis
population, survival parameter, and stratification factors.
}
\details{
The function performs the following operations:
\itemize{
  \item Reads SAS datasets using haven::read_sas()
  \item Filters data based on specified population flag and parameter code
  \item Creates an EVENT variable as 1 - CNSR for survival analysis
  \item Converts ARM to factor variable
  \item If stratify_by is specified, converts stratification factor to factor variable
  \item If stratify_by is NULL, creates a single "Overall" group for all subjects
}
}
\examples{
\dontrun{
# Create dataset for overall survival analysis with ITT population
surv_data <- DataParametricSurv(
  adsl_path = "path/to/adsl.sas7bdat",
  adtte_path = "path/to/adtte.sas7bdat",
  population = "ITTFL",
  variable = "OS",
  stratify_by = "SEX"
)

# Example of using the stratification variable name in FitSurvMods
surv_data_region <- DataParametricSurv(
  adsl_path = "path/to/adsl.sas7bdat",
  adtte_path = "path/to/adtte.sas7bdat",
  population = "SAFFL",
  variable = "PFS",
  stratify_by = "REGION"
)

# Use the original variable name in the output table
results <- FitSurvMods(surv_data_region, stratify_name = "REGION")
}
}
